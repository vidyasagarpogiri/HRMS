<%= render "appraisals/appraisal_form"%>
<div class="row">
  <div class="col-lg-6">
    <div class="form-group">   
      <label class="control-label col-lg-4" for="basicinput">Over All Rating</label>
      <div class="col-lg-6">
        <%= select_tag :over_all_rating, options_for_select([['Exceptional', 'Exceptional'], ['Highly Effective', 'Highly Effective'], ['Proficient', 'Proficient'], ['Needs Improvement','Needs Improvement'], ['Unacceptable', 'Unacceptable'], ['Not Applicable','Not Applicable']]), required: true, class: "form-control" %>
        <span class="help-block with-errors"></span>
      </div>
    </div>
  </div>
</div>
<div class ="row">
  <div class="form-group">   
    <label class="control-label col-lg-2" for="basicinput">Discussion Notes</label>
    <div class="col-lg-8">
      <%= text_area_tag :discussion_notes, @employee_appraisal.discussion_notes || nil , :class => "form-control", size: "50x5"%>
      <span class="help-block with-errors"></span>
    </div>
  </div>
</div>

<table class="table table-striped table-bordered table-condensed">
  <thead>
    <tr>
      <th>Review Element</th>
      <th>Performance Indicator</th>
      <th>Employee Assesment</th>
      <th>Employee Rating</th>
      <th>Manager Feedback</th>
      <th>Manager Rating</th>
    </tr>
 </thead>
  <tbody>
    <% if @review_elements.present? %>
      <% @review_elements.each do |review_element, i| %>
        <%= fields_for "reviews[]", review_element do |f| %>
          <tr>
            <td><%= review_element.review_element %></td>
            <td><%= review_element.performance_indicator %></td>
            <% if current_user.employee.is_reporting_manager? %>
            <td><%= text_field_tag :employee_assesment, review_element.employee_assesment, :class => "form-control",disabled: "true" %></td>
            <td><%= text_field_tag :employee_rating, review_element.employee_rating, :class => "form-control", disabled: "true" %></td>
            <td><%= text_field_tag 'manager_feedback[]', review_element.manager_feedback, :class => "form-control" %></td>
            <td><%= select_tag 'manager_rating[]', options_for_select([['Exceptional', 'Exceptional'], ['Highly Effective', 'Highly Effective'], ['Proficient', 'Proficient'], ['Needs Improvement','Needs Improvement'], ['Unacceptable', 'Unacceptable'], ['Not Applicable','Not Applicable']]), :class => "form-control" %></td>
            <%= hidden_field_tag 'review_id[]', review_element.id%>
            <% end %>
          </tr>
        <% end %>
      <% end %>
    <% end %>
  </tbody>
</table>

