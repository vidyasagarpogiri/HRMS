<%= form_for(@employee, :html => {:multipart => true}) do |f| %> 

<center><%= fields_for :employee_attachments do |f| %>
     <div class="form-group col-lg-6"">
     <br>
     <div class="row" style="clear:both;margin-left: 300px;" > 
    <label class="required">Attachment Name</label>
     <%= f.text_field :attachment_name, name: "employee_attachments[attachment_name][]" %>               
                                        </div> 
       <%= f.file_field :attachment, :multiple => true, name: "employee_attachments[attachment][]" %>
      
      <span id="add_attachment_field"></span>
      <span id='add_field'><i class="fa fa-icon fa-plus"></i> Add More</span>

         <center> 
       <% end %>
              
       
       <button type="submit" class="btn btn-success pull-right">Save </button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
       
       <% end %>
     </div></center>
     <div class="row" style="clear:both;margin-left: 300px;" >     
       <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th>Download Link</th>
          </tr>
        </thead>
        <tbody>
          <% @emp_get_attachements.each do |attachment| %>
            <tr>
              <td><%= attachment.attachment_name %></td> 
              <td><%= link_to "Download", attachment.attachment_url %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
   </div>

     
<script>
$(function(){
   $("#add_field").click(function(){
    $("#add_attachment_field").append("<span><label class='required'>Attachment Name</label><input id='employee_attachments_attachment_name' name='employee_attachments[attachment_name][]' type='text'><a onclick='$(this).parent().hide();' class='fa fa-icon fa-minus' style='float: right;'></a><input id='employee_attachments_attachment' multiple='multiple' name='employee_attachments[attachment][]' type='file'></span>");
  });  
});
</script>
