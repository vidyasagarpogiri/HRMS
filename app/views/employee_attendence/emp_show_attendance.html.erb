<div class="wrapper">
  <div class="container">
    <div class="row">                                             
      <div class="span12">
        <div class="content">
          <div class="module">
             <div class="module-head" style="background-color: #82B4E6 ">
                <label class="pull-left"><a id="prev" ><i class="icon-chevron-left"></i> Previous Week</a></label>
                <label class="pull-right"><a  id="next">Next Week <i class=" icon-chevron-right"></i></a></label><br>
              </div>                                                                                        
              <div class="module-body">                                                                          								
                <table class="table table-striped table-bordered table-condensed" id="attendance_table">
								  <thead>
									  <tr>	
  									  <th></th>									     
									    <th class="Mon">Monday</th>									     
                      <th class="Tue">Thuesday</th>
                      <th class="Wed">Wednesday</th>
                      <th class="Thu">Thursday</th>
                      <th class="Fri">Friday</th> 
                      <th class="Sat">Saturday</th>
                      <th class="Sun">Sunday</th>                         
									  </tr>
								  </thead>
								  <tbody>
								   <tr>
								    <td><b>Log History</b></td>
								    <td class="Mon"></td>
								    <td class="Tue"></td>
								    <td class="Wed"></td>
								    <td class="Thu"></td>
								    <td class="Fri"></td>
								    <td class="Sat"></td>
									  <td class="Sun"></td>
								   </tr>
								   <tr>
    							  <td><b>Total</b></td>
								    <td class="Total_Mon"></td>
								    <td class="Total_Tue"></td>
								    <td class="Total_Wed"></td>
								    <td class="Total_Thu"></td>
								    <td class="Total_Fri"></td>
								    <td class="Total_Sat"></td>
								    <td class="Total_Sun"></td>
								   </tr>
								  </tbody>
								</table>
								<input type="hidden" value="0" id="week_no">
              </div><!-- module body-->
            </div><!--/.module-->
          </div><!--/.content-->                    
        </div><!--/.span9-->                
     </div><!--/.row-->
  </div><!--/.container-->
</div><!--/.wrapper-->


<script>
$(function(){

  var i = 0 ;
  call_sw();
  $("#prev").click(function(){
    i -= 1 ;
    $("#week_no").val(i);
    call_sw();
  });
  $("#next").click(function(){
    if(i<0){
       i += 1 ;
      $("#week_no").val(i);
      call_sw();
    }
  });
});


function call_sw(){
  $("th span").remove();
  $("#attendance_table tr td:not(:first-child)").html("");
  $.get( "/employee_attendence/emp_show_attendance_ws.json?week_no="+$("#week_no").val(), function( data ) {
    $.each(data, function( key, value ) {
      $("th."+key).prepend("<span>"+value["dt"]+"</span> ");
      $.each(value["logs"], function(hrs, vl ) {
        $("td."+key).append(vl+"<br/>");
      });
      $("td.Total_"+key).html(value["total_hrs"]+"<br/>");
   });
  });
}

</script>
