<div class="wrapper">
	<div class="container">
		<div class="row">
      <div class="span12">
				<div class="content">
					<div class="module">
						<div class="module-head">							
              <h3>List of Features
              <%= link_to "Configure", "#", :class => "pull-right"%></h3> 
            </div> <!-- module head-->
            
            <div class="module-body ">
              <div class="package">
                <%= form_tag('/features', :method => :get ) do %>
                  <%= select_tag "designation", options_from_collection_for_select(Designation.all, "id", "designation_name"), prompt: "Select Role" %>
                <% a = Feature.all.map(&:controller).flatten.uniq! %>
                <%= select_tag "controllers", options_for_select(a.collect{|p| ["#{p}", p]}),  prompt: "Select Contoller" %>
                  <%= submit_tag "Submit" %>
                <% end %>
              </div>
             
            <h4>Role: <%= @role.department.department_name %> - <%= @role.designation.designation_name %>- <%= current_user.employee.grade.value %></h4> 
            <% if @controller.present? %>
              <h4>Controller <%= @controller %></h4>
            <% end %>
             <hr>
              <table cellpadding="0" cellspacing="0" border="0" class="datatable-4 table table-bordered table-striped	display" width="98%">
                <thead>											      
                  <tr>
                    <th>Controller</th>
                    <th>Action</th>
                   					                 	                  										      		
                  </tr>
                </thead>											                  	                                   			
                <tbody>
                  <% @features.each do |feature| %>
                  <tr class="gradeA">    
                    <td><%= feature.controller %></td>
                    <td><%= feature.action %></td>
                  </tr>
                 <% end %>
                </tbody>
              </table>
            </div> <!--- Module Body--->
          </div><!--- Module -->
        </div> <!--- Content -->
      </div> <!--- Span12---->
    </div><!----Row---->
  </div><!----Container--->
</div><!------Wrapper-->


<script>
	$(document).ready(function() {
		$('.datatable-4').dataTable();
		$('.dataTables_paginate').addClass("btn-group datatable-pagination");
		$('.dataTables_paginate > a').wrapInner('<span />');
		$('.dataTables_paginate > a:first-child').append('<i class="icon-chevron-left shaded"></i>');
		$('.dataTables_paginate > a:last-child').append('<i class="icon-chevron-right shaded"></i>');
	} );
</script>
  
